{"version":3,"file":"types.js","sourceRoot":"","sources":["../src/types.ts"],"names":[],"mappings":"AAAA;;;GAGG","sourcesContent":["/**\n * TypeScript types mirroring the gob daemon protocol.\n * See gob/internal/daemon/protocol.go for the canonical definitions.\n */\n\n// Request types\nexport type RequestType =\n\t| \"ping\"\n\t| \"shutdown\"\n\t| \"list\"\n\t| \"add\"\n\t| \"create\"\n\t| \"stop\"\n\t| \"start\"\n\t| \"restart\"\n\t| \"remove\"\n\t| \"stop_all\"\n\t| \"signal\"\n\t| \"get_job\"\n\t| \"runs\"\n\t| \"stats\"\n\t| \"subscribe\"\n\t| \"version\"\n\t| \"ports\"\n\t| \"remove_run\";\n\n// Event types\nexport type EventType =\n\t| \"job_added\"\n\t| \"job_started\"\n\t| \"job_stopped\"\n\t| \"job_removed\"\n\t| \"job_updated\"\n\t| \"run_started\"\n\t| \"run_stopped\"\n\t| \"run_removed\"\n\t| \"ports_updated\";\n\n// Protocol messages\nexport interface Request {\n\ttype: RequestType;\n\tpayload?: Record<string, unknown>;\n}\n\nexport interface Response {\n\tsuccess: boolean;\n\terror?: string;\n\tdata?: Record<string, unknown>;\n}\n\n// Port information\nexport interface PortInfo {\n\tport: number;\n\tprotocol: string;\n\tpid: number;\n\taddress: string;\n}\n\n// Job response from daemon\nexport interface JobResponse {\n\tid: string;\n\tpid: number;\n\tstatus: string;\n\tcommand: string[];\n\tworkdir: string;\n\tdescription?: string;\n\tblocked?: boolean;\n\tcreated_at: string;\n\tstarted_at: string;\n\tstopped_at?: string;\n\tstdout_path: string;\n\tstderr_path: string;\n\texit_code?: number | null;\n\tports?: PortInfo[];\n\n\t// Statistics\n\trun_count: number;\n\tsuccess_count: number;\n\tfailure_count: number;\n\tsuccess_rate: number;\n\tavg_duration_ms: number;\n\tfailure_avg_duration_ms: number;\n\tmin_duration_ms: number;\n\tmax_duration_ms: number;\n}\n\n// Run response from daemon\nexport interface RunResponse {\n\tid: string;\n\tjob_id: string;\n\tpid: number;\n\tstatus: string;\n\texit_code?: number | null;\n\tstdout_path: string;\n\tstderr_path: string;\n\tstarted_at: string;\n\tstopped_at?: string;\n\tduration_ms: number;\n}\n\n// Event from subscription stream\nexport interface Event {\n\ttype: EventType;\n\tjob_id: string;\n\tjob: JobResponse;\n\trun?: RunResponse;\n\tports?: PortInfo[];\n\tjob_count: number;\n\trunning_job_count: number;\n}\n\n// Job ports response\nexport interface JobPorts {\n\tjob_id: string;\n\tpid: number;\n\tports: PortInfo[];\n\tstatus?: string;\n\tmessage?: string;\n}\n"]}